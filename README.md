# 信息采集
# 1. 判断网站是否支持ipv4，获取ipv4地址

# 2. 判断网站是否支持ipv6，获取ipv6地址

# 3. 在ipv4环境下，获取网页源代码

# 4. 在ipv6环境下，获取网页源代码

# 5. 获取ipv4环境下网站截图 （需要在单栈环境下运行）

# 6. 获取ipv6环境下网站截图（需要在单栈环境下运行）

# 7. 从网页源代码中提取二级链接

# 8. 从网页源代码中提取三级链接


# 支持度计算
#1-6 喻岩
#7-12 谭昭坤
#13-18 杜世杰
#19 徐光华
#20 钟洁
#21 谢堂正

# 数据储存 华正新

# 1. 首页是否可以访问
"""
向网站ipv6地址的服务端口发起http/https请求，测试是否得到应答
"""

# 2. 网站支持ipv4和ipv6双栈
"""
根据网站域名，判断是否可以获取到网站的ipv4地址和ipv6地址
"""

# 3. ipv6连通性
"""
在ipv6环境下，连续多次（大于10次）访问网站，每次访问间隔不大于300秒，计算ipv6连通性
尝试使用不同的dns解析服务器，重复测试
成功次数/访问总数*100%
"""

# 4. 二级链接ipv6连通性
"""
在ipv6环境下，依次访问网站的二级链接，并记录访问成功的次数，计算二级链接连通性
成功次数/二级链接总数*100%
"""

# 5. 三级链接ipv6连通性
"""
在ipv6环境下，依次访问网站的三级链接，并记录访问成功的次数，计算三级链接连通性
成功次数/三级链接总数*100%
"""

# 6. ipv6访问稳定性
"""
按照一定的访问时间间隔（不大于300秒），访问周期不低于24小时，对网站进行ipv6访问，计算访问成功率
"""

# 7. ipv4域名解析时延
"""
记录发起DNS解析域名请求，返回ipv4地址的时延
测试至少10次，每次间隔不大于300秒，计算平均时延
"""

# 8. ipv6域名解析时延
"""
记录DNS解析域名，返回ipv4地址的时延
测试至少10次，每次间隔不大于300秒，计算平均时延
"""

# 9. 计算是否满足域名解析时延指标
"""
ipv6域名解析时延/ipv4域名解析时延 - 1 <= 0.2
"""

# 10. ipv4环境下TCP建立时延
"""
计算ipv4环境下，TCP三次握手建立连接的时延
测试至少10次，每次间隔不大于300秒，计算平均时延
"""

# 11. ipv6环境下TCP建立时延
"""
计算ipv6环境下，TCP三次握手建立连接的时延
测试至少10次，每次间隔不大于300秒，计算平均时延
"""

# 12. 计算是否满足TCP建立解析时延指标
"""
ipv6建立时延/ipv4建立时延 - 1 <= 0.2
"""


# 13. ipv4环境下服务器响应首包时延
"""
计算ipv4环境下，计算GET请求下收到第一个ACK响应包的时延
测试至少10次，每次间隔不大于300秒，计算平均时延
"""

# 14. ipv6环境下服务器响应首包时延
"""
计算ipv6环境下，计算GET请求下收到第一个ACK响应包的时延
测试至少10次，每次间隔不大于300秒，计算平均时延
"""

# 15. 计算是否满足服务器响应首包时延
"""
ipv6响应时延/ipv4响应时延 - 1 <= 0.2
"""


# 16. ipv4环境下服务器响应首页时延
"""
计算ipv4环境下，计算发起网页请求到用户终端完整呈现网站内容之间的时延
测试至少10次，每次间隔不大于300秒，计算平均时延
"""

# 17. ipv6环境下服务器响应首页时延
"""
计算ipv6环境下，计算发起网页请求到用户终端完整呈现网站内容之间的时延
测试至少10次，每次间隔不大于300秒，计算平均时延
"""

# 18. 计算是否满足服务器响应首页时延
"""
ipv6首页时延/ipv4首页时延 - 1 <= 0.2
"""

# 19. ipv4和ipv6环境下，页面截图之间的相似性
"""
根据ipv4和ipv6环境下的网页截图，计算图片相似度。
"""

# 20. ipv4和ipv6环境下，页面文本内容的相似性
"""
分别从ipv4网页源代码和ipv6网页源代码中提取所有文字内容，计算文本相似度
也可分别计算网站网页正文，网站标题等等不同区域的文本相似度，并加权获得最终的文本相似度
"""

# 21. ipv4和ipv6环境下，页面结构的相似性
"""
分别从ipv4网页源代码和ipv6网页源代码中提取所有HTML标签与出现频率，构造词频向量，计算相似度
"""



# 22. ipv6域名授权体系
"""
递归查询网站ipv6地址: dig -6 +trace AAAA [网站域名] @[ipv6递归解析器地址]
返回网站ipv6地址说明具备ipv6域名授权体系
"""

# 23. pmtu能力
"""
向网站发送icmpv6 type 2的错误消息报文，mtu = 1280
判断网站是否协商TCP MSS分段大小
"""


# 24. ipv6支持度计算
"""
根据前面的计算结果，加权计算最终的ipv6支持度
"""


# 数据存储
# 1. 支持度数据保存接口(mysql)
"""
字段：
网站域名，是否可解析，是否可访问，ipv6支持度，ipv6连通性，二级链接连通性，三级链接连通性，域名解析时延指标，TCP建立解析时延指标，服务器响应首包时延指标，服务器响应首页时延指标，ipv6访问稳定性，是否具备ipv6授权体系，计算开始时间，计算完成时间
"""
# 2. 支持度数据查询接口

# 3. 网站信息采集数据保存接口（mongodb）
"""
字段：
网站域名，采集任务下发时间，采集任务完成时间，ipv4地址，ipv6地址，ipv4页面源代码，ipv6页面源代码,ipv4页面截图,ipv6页面截图,二级链接列表，三级链接列表
"""

# 4. 网站信息采集数据查询接口





